<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta
        name="viewport"
        content="width=device-width,height=device-height,initial-scale=1"
    />
    <meta name="description" content="This is web site to test PWA.">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link ref="icon" href="/favicon.ico" type="image/png" size="48x48">
    <link ref="icon" href="/favicon.svg" type="image/svg+xml" size="any">
    <link ref="apple-touch-icon" href="/apple-icon.png" type="image/png" size="180x180">
    <title>Rain</title>
    <script type="module" src="main.js" defer></script>
</head>
<body>
    <main><p id="FCP-dummy">&nbsp;</p></main>
    <canvas id="_canvas"></canvas>
    <script type="module">
        import { execRain } from './main.js'
        const registerServiceWorker = async () => {
            if ('serviceWorker' in navigator) {
                try {
                    const registration = await navigator.serviceWorker.register("serviceworker.js");
                } catch(err) {
                    console.log('Service Worker registration failed !', err);
                }
            }
        };
        window.addEventListener("load", () => {
            // Service Workerを登録
            registerServiceWorker()
            // Webアプリを開始
            execRain();
        });
    </script>
</body>
</html>